{"ast":null,"code":"import shortid from \"shortid\";\nimport { todos } from \"./initial-state\";\nimport { ADD_EDIT_TODO, ADD_TODO, DELETE_TODO, TOGGLE_COMPLETED, TOGGLE_IMPORTANT } from \"./utils\";\n\nconst saveData = todo => {\n  localStorage.setItem(\"todos\", JSON.stringify(todo));\n};\n\nfunction todoreducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : todos;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_TODO:\n      {\n        const {\n          title\n        } = action.payload;\n        const newTodo = {\n          id: shortid(),\n          title,\n          completed: false,\n          important: false\n        };\n        saveData([...state, newTodo]);\n        return [...state, newTodo];\n      }\n\n    case TOGGLE_COMPLETED:\n      {\n        const {\n          id\n        } = action.payload;\n        const newTodo = state.map(value => {\n          if (value.id === id) {\n            value.completed = !value.completed;\n          }\n\n          return value;\n        });\n        saveData(newTodo);\n        return newTodo;\n      }\n\n    case TOGGLE_IMPORTANT:\n      {\n        const {\n          id\n        } = action.payload;\n        const newTodo = state.map(value => {\n          if (value.id === id) {\n            value.important = !value.important;\n          }\n\n          return value;\n        });\n        saveData(newTodo);\n        return newTodo;\n      }\n\n    case DELETE_TODO:\n      {\n        const {\n          id\n        } = action.payload;\n        const newTodo = state.filter(value => value.id !== id);\n        saveData(newTodo);\n        return newTodo;\n      }\n\n    case ADD_EDIT_TODO:\n      {\n        const {\n          id,\n          title\n        } = action.payload;\n        const newTodo = state.map(value => {\n          if (value.id === id) {\n            value.title = title;\n          }\n\n          return value;\n        });\n        saveData(newTodo);\n        return newTodo;\n      }\n\n    default:\n      return state;\n  }\n}\n\nexport default todoreducer;","map":{"version":3,"names":["shortid","todos","ADD_EDIT_TODO","ADD_TODO","DELETE_TODO","TOGGLE_COMPLETED","TOGGLE_IMPORTANT","saveData","todo","localStorage","setItem","JSON","stringify","todoreducer","state","action","type","title","payload","newTodo","id","completed","important","map","value","filter"],"sources":["E:/project/react/react-todo/src/redux/todoreducers.js"],"sourcesContent":["import shortid from \"shortid\";\r\n\r\nimport { todos } from \"./initial-state\";\r\nimport { ADD_EDIT_TODO, ADD_TODO, DELETE_TODO, TOGGLE_COMPLETED, TOGGLE_IMPORTANT } from \"./utils\";\r\n\r\nconst saveData = (todo) => {\r\n  localStorage.setItem(\"todos\", JSON.stringify(todo));\r\n};\r\n\r\nfunction todoreducer(state = todos, action) {\r\n  switch (action.type) {\r\n    case ADD_TODO: {\r\n      const { title } = action.payload;\r\n      const newTodo = {\r\n        id: shortid(),\r\n        title,\r\n        completed: false,\r\n        important: false\r\n      };\r\n      saveData([...state, newTodo]);\r\n      return [...state, newTodo];\r\n    }\r\n\r\n    case TOGGLE_COMPLETED: {\r\n      const { id } = action.payload;\r\n      const newTodo = state.map((value) => {\r\n        if (value.id === id) {\r\n          value.completed = !value.completed;\r\n        }\r\n        return value;\r\n      });\r\n      saveData(newTodo);\r\n      return newTodo;\r\n    }\r\n\r\n    case TOGGLE_IMPORTANT: {\r\n      const { id } = action.payload;\r\n      const newTodo = state.map((value) => {\r\n        if (value.id === id) {\r\n          value.important = !value.important;\r\n        }\r\n        return value;\r\n      });\r\n      saveData(newTodo);\r\n      return newTodo;\r\n    }\r\n\r\n    case DELETE_TODO: {\r\n      const { id } = action.payload;\r\n      const newTodo = state.filter((value) => value.id !== id);\r\n      saveData(newTodo);\r\n      return newTodo;\r\n    }\r\n\r\n    case ADD_EDIT_TODO:{\r\n      const {id,title}=action.payload;\r\n      const newTodo = state.map((value) => {\r\n        if (value.id === id) {\r\n          value.title = title;\r\n        }\r\n        return value;\r\n      });\r\n      saveData(newTodo);\r\n      return newTodo;\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default todoreducer;\r\n"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,SAApB;AAEA,SAASC,KAAT,QAAsB,iBAAtB;AACA,SAASC,aAAT,EAAwBC,QAAxB,EAAkCC,WAAlC,EAA+CC,gBAA/C,EAAiEC,gBAAjE,QAAyF,SAAzF;;AAEA,MAAMC,QAAQ,GAAIC,IAAD,IAAU;EACzBC,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAA9B;AACD,CAFD;;AAIA,SAASK,WAAT,GAA4C;EAAA,IAAvBC,KAAuB,uEAAfb,KAAe;EAAA,IAARc,MAAQ;;EAC1C,QAAQA,MAAM,CAACC,IAAf;IACE,KAAKb,QAAL;MAAe;QACb,MAAM;UAAEc;QAAF,IAAYF,MAAM,CAACG,OAAzB;QACA,MAAMC,OAAO,GAAG;UACdC,EAAE,EAAEpB,OAAO,EADG;UAEdiB,KAFc;UAGdI,SAAS,EAAE,KAHG;UAIdC,SAAS,EAAE;QAJG,CAAhB;QAMAf,QAAQ,CAAC,CAAC,GAAGO,KAAJ,EAAWK,OAAX,CAAD,CAAR;QACA,OAAO,CAAC,GAAGL,KAAJ,EAAWK,OAAX,CAAP;MACD;;IAED,KAAKd,gBAAL;MAAuB;QACrB,MAAM;UAAEe;QAAF,IAASL,MAAM,CAACG,OAAtB;QACA,MAAMC,OAAO,GAAGL,KAAK,CAACS,GAAN,CAAWC,KAAD,IAAW;UACnC,IAAIA,KAAK,CAACJ,EAAN,KAAaA,EAAjB,EAAqB;YACnBI,KAAK,CAACH,SAAN,GAAkB,CAACG,KAAK,CAACH,SAAzB;UACD;;UACD,OAAOG,KAAP;QACD,CALe,CAAhB;QAMAjB,QAAQ,CAACY,OAAD,CAAR;QACA,OAAOA,OAAP;MACD;;IAED,KAAKb,gBAAL;MAAuB;QACrB,MAAM;UAAEc;QAAF,IAASL,MAAM,CAACG,OAAtB;QACA,MAAMC,OAAO,GAAGL,KAAK,CAACS,GAAN,CAAWC,KAAD,IAAW;UACnC,IAAIA,KAAK,CAACJ,EAAN,KAAaA,EAAjB,EAAqB;YACnBI,KAAK,CAACF,SAAN,GAAkB,CAACE,KAAK,CAACF,SAAzB;UACD;;UACD,OAAOE,KAAP;QACD,CALe,CAAhB;QAMAjB,QAAQ,CAACY,OAAD,CAAR;QACA,OAAOA,OAAP;MACD;;IAED,KAAKf,WAAL;MAAkB;QAChB,MAAM;UAAEgB;QAAF,IAASL,MAAM,CAACG,OAAtB;QACA,MAAMC,OAAO,GAAGL,KAAK,CAACW,MAAN,CAAcD,KAAD,IAAWA,KAAK,CAACJ,EAAN,KAAaA,EAArC,CAAhB;QACAb,QAAQ,CAACY,OAAD,CAAR;QACA,OAAOA,OAAP;MACD;;IAED,KAAKjB,aAAL;MAAmB;QACjB,MAAM;UAACkB,EAAD;UAAIH;QAAJ,IAAWF,MAAM,CAACG,OAAxB;QACA,MAAMC,OAAO,GAAGL,KAAK,CAACS,GAAN,CAAWC,KAAD,IAAW;UACnC,IAAIA,KAAK,CAACJ,EAAN,KAAaA,EAAjB,EAAqB;YACnBI,KAAK,CAACP,KAAN,GAAcA,KAAd;UACD;;UACD,OAAOO,KAAP;QACD,CALe,CAAhB;QAMAjB,QAAQ,CAACY,OAAD,CAAR;QACA,OAAOA,OAAP;MACD;;IAED;MACE,OAAOL,KAAP;EAzDJ;AA2DD;;AAED,eAAeD,WAAf"},"metadata":{},"sourceType":"module"}